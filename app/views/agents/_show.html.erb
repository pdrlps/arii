<div class="row">
  <div class="small-2 medium-1 large-1 columns left">
    <div class="switch small radius">
      <input class="input_toggle" data-id="<%= agent.id %>" id="input_switch_<%= agent.id %>" type="checkbox" <%= (agent.status == 100) ? 'checked' : '' %> name="switch_input_<%= agent.id %>">
      <label for="input_switch_<%= agent.id %>"></label>
    </div>
  </div>
  <div class="small-12 medium-8 large-8 columns">
    <span class="label secondary radius icon-updated">Updated <%= time_ago_in_words(agent.updated_at) %> ago</span>
    <span class="label secondary radius icon-check">Last check <%= time_ago_in_words(agent.last_check_at) %> ago</span>
  </div>
  <div class="small-10 medium-3 large-3 columns right text-right">
    <ul class="button-group radius right">
      <li><%= link_to 'Execute', {:controller => 'agents', :action => 'execute', :id => agent.id}, :class => 'small button success icon-execute',:title => "Execute #{agent.title}" %></li>
      <li><%= link_to 'Edit', edit_input_path(agent), :class => 'small button secondary icon-edit' %></li>
    </ul>
  </div>
</div>
<br />
<div class="row">
  <div class="small-2 columns">
    <div class="agent-hl ">
      <div class="big center">
        <span class="has-tip radius" data-tooltip title="Events: ARiiP detected <%= agent.events.size %> for this agent"><%= agent.events.size %></span>
      </div>
      <h5 class="center icon-events xl-icon"></h5>
    </div>
    <div class="agent-hl">
      <div class="big center">
        <span class="has-tip radius" data-tooltip title="Schedule: ARiiP polls this agent every <%= agent.schedule %>"><%= agent.schedule %></span>
      </div>
      <h5 class="center icon-schedule xl-icon"></h5>
    </div>
    <div class="agent-hl">
      <div class="big center">
        <span class="has-tip radius" data-tooltip title="Monitor: this agent processes '<%= agent.publisher %>'' input"><%= agent.publisher %></span>
      </div>
      <h5 class="center icon-publisher xl-icon"></h5>
    </div>
  </div>
  <div class="small-10 columns">
    <div class="row">
      <h4 class="subheader">Description</h4>
      <%= agent.help %>
    </div>
    <hr>
    <div class="row">
      <h4 class="subheader">Input Details</h4>
      <% if agent.publisher == 'sql' then %>
      <%= render partial: "agents/show_sql", locals: {:agent => agent}%>
      <% end %>
      <% if agent.publisher == 'xml' then %>
      <%= render partial: "agents/show_xml", locals: {:agent => agent}%>
      <% end %>
      <% if agent.publisher == 'json' then %>
      <%= render partial: "agents/show_json", locals: {:agent => agent}%>
      <% end %>
      <% if agent.publisher == 'csv' then %>
      <%= render partial: "agents/show_csv", locals: {:agent => agent}%>
      <% end %>
      <% if agent.publisher == 'excel' then %>
      <%= render partial: "agents/show_excel", locals: {:agent => agent}%>
      <% end %>
    </div>
    <% if agent.seeds.size != 0 then %>
    <hr>
    <div class="row">
      <h4 class="subheader">Seeds</h4>
      <% agent.seeds.each do |s| %>
      <%= render partial: "seeds/show", locals: {:seed => s}   %>
      <% end %>
    </div>
    <% end %>
  </div>
</div>